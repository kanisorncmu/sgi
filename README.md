# เว็บไซต์แสดงผล Sentiment Analysis

โปรเจคนี้เป็นเว็บแอปพลิเคชันสำหรับแสดงผลข้อมูล Sentiment Analysis โดยมีจุดเด่นคือการแสดงผลในรูปแบบ Scatter Plot 3 มิติ เพื่อแสดงคะแนนความรู้สึก (บวก, กลาง, ลบ) และมีเครื่องมือสำหรับโต้ตอบเพื่อกรองข้อมูลได้

## สิ่งที่ต้องมี

- [Docker](https://www.docker.com/get-started)
- [Docker Compose](https://docs.docker.com/compose/install/)

## การติดตั้งและตั้งค่า

1.  **Clone a repository** (หรือตรวจสอบให้แน่ใจว่าคุณมีไฟล์โปรเจคทั้งหมด)

2.  **เริ่มการทำงานของ Service** โดยใช้ Docker Compose เปิดเทอร์มินัลในไดเรกทอรีรากของโปรเจคและรันคำสั่ง:

    - **สำหรับการรันครั้งแรก (หรือเมื่อมีการเปลี่ยนแปลงโค้ด):**
      ใช้คำสั่ง `--build` เพื่อสร้าง Image ใหม่
      ```bash
      docker-compose up --build
      ```

    - **สำหรับการรันครั้งต่อไป:**
      หากไม่ต้องการสร้าง Image ใหม่ สามารถใช้คำสั่งนี้เพื่อเริ่มการทำงานของ Container ที่มีอยู่ได้เลย
      ```bash
      docker-compose up
      ```

    คำสั่งนี้จะสร้าง Image สำหรับ Service ของฝั่ง Backend และ Frontend และเริ่มการทำงาน

## Services

แอปพลิเคชันประกอบด้วย 2 Service หลัก:

### 1. Frontend

-   **เทคโนโลยี:** HTML, CSS, JavaScript และ [Plotly.js](https://plotly.com/javascript/)
-   **คำอธิบาย:** หน้าเว็บที่ดึงข้อมูลความรู้สึกจาก Backend และแสดงผลเป็น Scatter Plot 3 มิติแบบโต้ตอบได้ นอกจากนี้ยังแสดงรายการ 20 อันดับแรกของข้อมูลที่มีความเป็นบวกและลบมากที่สุด
-   **การเข้าถึง:** คุณสามารถเข้าถึง Frontend ได้โดยไปที่ URL ต่อไปนี้ในเว็บเบราว์เซอร์ของคุณ:
    -   [http://localhost:8080/deep_analysis.html](http://localhost:8080/deep_analysis.html)

### 2. Backend

-   **เทคโนโลยี:** Python ร่วมกับ [FastAPI](https://fastapi.tiangolo.com/) และ [Pandas](https://pandas.pydata.org/)
-   **คำอธิบาย:** API ที่อ่านข้อมูลความรู้สึกจากไฟล์ CSV (`sentiment_geo_full 4.csv`), จัดเรียงข้อมูลตามวันที่ และส่งต่อไปยัง Frontend
-   **การเข้าถึง:** Backend ทำงานบนพอร์ต `8000`

#### API Endpoint

-   **GET** `/api/read_sentiment`

    ส่งคืนอาร์เรย์ JSON ของข้อมูลความรู้สึก

    **Query Parameters:**

    -   `limit` (integer, optional): ระบุจำนวนข้อมูลล่าสุดที่ต้องการส่งคืน หาก `limit=0` หรือไม่ระบุ จะส่งคืนข้อมูลทั้งหมด

    **ตัวอย่าง:** `http://localhost:8000/api/read_sentiment?limit=100`

## วิธีใช้งานหน้าเว็บ

1.  **เปิดหน้าเว็บ:** ไปที่ [http://localhost:8080/deep_analysis.html](http://localhost:8080/deep_analysis.html)

2.  **เลือกจำนวนข้อมูล:** ใช้เมนู Dropdown ที่ด้านบนของหน้าเพื่อเลือกจำนวนข้อมูลที่คุณต้องการแสดงผล (50, 100, 1000, 10000 หรือ ทั้งหมด) กราฟจะอัปเดตโดยอัตโนมัติ

3.  **โต้ตอบกับกราฟ:**
    -   **หมุน:** คลิกและลากบนกราฟเพื่อหมุน
    -   **ซูม:** ใช้ล้อเมาส์เพื่อซูมเข้าและออก
    -   **ดูข้อมูล:** วางเมาส์เหนือจุดข้อมูลเพื่อดูคะแนนความรู้สึกและข้อความ

4.  **ดูรายการอันดับสูงสุด:** แผงด้านข้างจะแสดง 20 อันดับแรกของรายการที่มีความเป็นบวกและลบมากที่สุดจากข้อมูลที่โหลดในปัจจุบัน วางเมาส์เหนือรายการใดๆ ในรายการเหล่านี้เพื่อดู Tooltip พร้อมรายละเอียดข้อความเต็มและคะแนนความรู้สึก